<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Introducing Warp Drive for Rails  &middot; MetaBates.com</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="engines, gem, General, News, rails, release, Releases, warp drive, ">


<meta property="og:title" content="Introducing Warp Drive for Rails  &middot; MetaBates.com ">
<meta property="og:site_name" content="MetaBates.com"/>
<meta property="og:url" content="/2009/10/07/introducing-warp-drive-for-rails/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2009-10-07T00:00:00Z" />
<meta property="og:article:modified_time" content="2009-10-07T00:00:00Z" />

  
    
<meta property="og:article:tag" content="engines">
    
<meta property="og:article:tag" content="gem">
    
<meta property="og:article:tag" content="General">
    
<meta property="og:article:tag" content="News">
    
<meta property="og:article:tag" content="rails">
    
<meta property="og:article:tag" content="release">
    
<meta property="og:article:tag" content="Releases">
    
<meta property="og:article:tag" content="warp drive">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@markbates" />
<meta name="twitter:creator" content="@markbates" />
<meta name="twitter:title" content="Introducing Warp Drive for Rails" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="/2009/10/07/introducing-warp-drive-for-rails/" />
<meta name="twitter:domain" content="/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Introducing Warp Drive for Rails",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2009-10-07",
    "description": "",
    "wordCount": 942
  }
</script>



<link rel="canonical" href="/2009/10/07/introducing-warp-drive-for-rails/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
<link rel="icon" href="/favicon.png">
<meta name="generator" content="Hugo 0.20-DEV" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="/css/bootswatch/cerulean/bootstrap.min.css">


<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">


  <link rel="stylesheet" href="/css/highlight/monokai_sublime.css">


</head>
<body class="map[name:cerulean]" data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

          
            <a class="navbar-brand" href="/">
          MetaBates.com
          
          
        </a>

      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          
          <li>

            <a href="/about"
            >

            

            About
            </a>
          </li>
          
          <li>

            <a href="/post"
             title="Archives">

            

            Archives
            </a>
          </li>
          
          <li>

            <a href="/books"
            >

            

            Books
            </a>
          </li>
          
          <li>

            <a href="/tags"
            >

            

            Tags
            </a>
          </li>
          
        </ul>
      </div>
      
    </div>
  </nav>

</header>


<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1>Introducing Warp Drive for Rails
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2009-10-07">7 Oct, 2009</time>
</small>


  <small>
  &middot; Read in about 5 min
  &middot; (942 Words)
</small>


<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="/tags/engines" class="label label-primary">engines</a>
  
  <a href="/tags/gem" class="label label-primary">gem</a>
  
  <a href="/tags/general" class="label label-primary">General</a>
  
  <a href="/tags/news" class="label label-primary">News</a>
  
  <a href="/tags/rails" class="label label-primary">rails</a>
  
  <a href="/tags/release" class="label label-primary">release</a>
  
  <a href="/tags/releases" class="label label-primary">Releases</a>
  
  <a href="/tags/warp-drive" class="label label-primary">warp drive</a>
  


</div>
<br>
</div>

  </div>
</div>

      <div class="content">
  

<p>At work recently we had a need to build a large Rails application that we then wanted to, for lack of a better word, subclass. Unfortunately there is no real good way of doing that. Rails Engines and templates have way too may limitations. We wanted to bundle up the entire Rails app (models, controllers, views, routes, migrations, configurations, libs, assets, etc&hellip; everything!), but there was no good way of doing that. Well, now there is, it&rsquo;s called the Warp Drive.</p>

<p>I&rsquo;ve decided to just include my README file below to explain what it is, since it&rsquo;s a bit lengthy, and I don&rsquo;t feel like retyping.</p>

<p>This is still in it&rsquo;s early stages, so use with care, but it does seem to be working for us on a daily basis. Let me know what you think!</p>

<h2 id="what-is-warp-drive">What is Warp Drive?</h2>

<p>Warp Drive is what Rails Engines wish they could be, and more! They kick Rails templates in the ass, and they beat keeping an ever evolving base Rails app up to date.</p>

<h3 id="what-are-rails-engines">What are Rails Engines?</h3>

<p>Rails Engines allow you to package up some of a Rails app (controllers, models, views, routes, libs) and put them in a plugin that can be included into a new Rails app, thereby giving it the functionality you had in the engine. That sounds good, but what about the downsides of using an engine? Well, you can&rsquo;t override or extend any of the functionality from the engine in your main application. You can hack at the plugin, but now you&rsquo;ve made it difficult to update. So what do you do if you want to add or alter a method to a controller or model? What do you do if you want to change the look and feel of a view? You have to copy everything into your main application. Boo!</p>

<p>Rails Engines also don&rsquo;t allow you to package up migrations, assets, plugins, initializers, etc&hellip; All the fun stuff that you&rsquo;ve come to know and love about a Rails application.</p>

<h3 id="enter-the-warp-drive">Enter the Warp Drive!</h3>

<p>So what is a Warp Drive? Great question. To put it simply a Warp Drive is a standard, full featured, Rails application that you can easily bundle up into a Ruby Gem, and include into another Rails app. That second Rails app now has all the power of the first Rails. That is all there is to it.</p>

<h2 id="creating-a-warp-drive">Creating a Warp Drive.</h2>

<p>Let&rsquo;s assume we have an application that implements AuthLogic for handling user registration/authentication. We have controllers, views, models, plugins, initializers, configurations, migrations, tasks, etc&hellip; it&rsquo;s a full featured fully functional Rails application, we call it authenticator.</p>

<p>We want to turn our authenticator application into a Warp Drive. We can do it in three simple steps, the first two steps you only need to do the first time, to set everything up.</p>

<ul>
<li><code>$ gem install warp_drive</code></li>
<li><code>$ warpify</code> That will add a little bit of code to your <code>Rakefile</code>. That code simply requires the Warp Drive gem, and gives you hooks to configure the gem of your Warp Drive application.</li>
<li><code>$ rake warp_drive:compile</code> (<code>$ rake warp_drive:install</code>) This will either compile your gem for your (<code>warp_drive:compile</code>) or compile and install your gem (<code>warp_drive:install</code>)</li>
</ul>

<p>That&rsquo;s it! You should now have your Rails application bundled up and/or installed as a RubyGem!</p>

<h2 id="using-a-warp-drive">Using a Warp Drive.</h2>

<p>With your fancy new Warp Drive, authenticator, built and installed how do you use it in that new application your building? Again, it&rsquo;s stupid easy, and it only takes one step, that only needs to be run once:</p>

<ul>
<li><code>$ install_warp_drive authenticator</code></li>
</ul>

<p>That will put a few lines of code in your <code>Rakefile</code>, so you have access to all the <code>Rakefile</code> tasks in your Warp Drive, and a line in your <code>config/environment.rb</code> so that it will load your Warp Drive when you launch your application.</p>

<p>That&rsquo;s it! You&rsquo;re done. Now you can run <code>rake db:migrate</code> to run the migrations from both your Warp Drive and your new application. Enjoy!</p>

<h2 id="overriding-extending-and-other-such-fun-things">Overriding, Extending, and Other Such Fun Things</h2>

<h3 id="overriding-and-extending">Overriding and Extending</h3>

<p>You&rsquo;ve been enjoying your new Warp Drive back application for a little while now, but you decide you really need to change an action in your controller, how do you go about that? Simple, just like you would any normal alteration to a Ruby class.</p>

<p>Example:
Here is what the action looks like in our Warp Drive UsersController:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">new</span>
  <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span>
<span class="k">end</span>
</code></pre></div>

<p>In our new application we can just open up the UsersController like this:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>

  <span class="k">def</span> <span class="nf">new_with_default_name</span>
    <span class="n">new_without_default_name</span>
    <span class="vi">@user</span><span class="o">.</span><span class="n">login</span> <span class="o">=</span> <span class="s1">&#39;default_name&#39;</span>
  <span class="k">end</span>

  <span class="n">alias_method_chain</span> <span class="ss">:new</span><span class="p">,</span> <span class="ss">:default_name</span>

<span class="k">end</span>
</code></pre></div>

<p>Viola! The same works for any thing else in the system, models, libs, etc&hellip; In our example we used <code>alias_method_chain</code> to retain the original method, but we could have completely rewritten the method as well.</p>

<p>You can also plop in a new view and it will override the view that was in your Warp Drive. The sky is really the limit.</p>

<h3 id="assets">Assets</h3>

<p>You can easily bundle assets from your public directory in your Warp Drive. Just make sure they are in folders called <code>warp_drive</code>. Those folders will then be symlinked to your new project&rsquo;s public directory when the application starts up.</p>

<h3 id="keep-those-rake-tasks-private">Keep Those Rake Tasks Private!</h3>

<p>We all them, Rake tasks we have created to help us do all sorts of things, and we usually don&rsquo;t want them to ship. Well, Warp Drive has you covered there. Just place your tasks in folders called <code>private</code> and Bob&rsquo;s your uncle they won&rsquo;t be available in the compiled gem.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">lib</span><span class="o">/</span>
  <span class="n">tasks</span><span class="o">/</span>
    <span class="n">foo</span><span class="o">.</span><span class="n">rake</span>
    <span class="kp">private</span><span class="o">/</span>
      <span class="n">bar</span><span class="o">.</span><span class="n">rake</span>
</code></pre></div>

<p>In this example <code>foo.rake</code> will be available to clients of your Warp Drive, but <code>bar.rake</code> will not be.</p>

</div>


      <footer>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="/2009/09/07/a-few-rails-nuggets/" title="A Few Rails Nuggets">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="/2009/11/12/distributed-programming-with-ruby-now-available/" title="Distributed Programming with Ruby - Now Available">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//metabates.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

    </div>
    
  </div>
</div>
      
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="#">back to top</a>
</div>
<div class="pull-right">
  <a href="http://feeds.feedburner.com/MetaBates" target="_blank">RSS</a> |
  <a href="http://twitter.com/markbates/" target="_blank">Twitter</a> |
  <a href="http://github.com/markbates/" target="_blank">GitHub</a> |
  <a href="mailto:mark+blog@markbates.com">Email</a>
</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
  code with <i class='fa fa-heart'></i>

</small>
</div>


    
<div class="container copyright">
    <small>
  &copy; 2016 Mark Bates.

  </small>
</div>



        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="" async="async"></script>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
<script src="/js/popover/angular-storage.min.js"></script>


<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//metabates.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/highlight.pack.js"></script>
<script src="/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
  var _gaq=[['_setAccount','UA-9756583-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script>
var ENABLE_POPOVER = ""; 
var EXPIRE_COOKIE = ""; 
var SHOW_MODAL_TIMEOUT = ""; 
var MOUSE_LEAVE = ""; 
var MODAL_SIZE = ""; 
var POST_URL = ""; 
var SIGNUP_HEADER = "";
var HEADER_IMAGE = "";
var IMG_DESCRIPTION = "";
var SIGNUP_TEXT = "";
var INPUT_PLACEHOLDER = "";
var SUBMIT_BUTTON = "";
var SUCCESS_MESSAGE = "";
var ERROR_MESSAGE = "";
var OPTIN = "";
var COOKIE_NAME = "";
</script>
<script src="/js/popover/angular-modal-service.min.js"></script>
<script src="/js/angular-ismobile.min.js"></script>
<script src="/js/popover/popover.min.js"></script>

  </body>
</html>

